# 282. 给表达式添加运算符

## 思路

- 暴力回溯：枚举出所有表达式，然后用语言的`eval`或者手动解析来求值并判断。会超时。
- 带参数的回溯：暴力回溯会超时是因为每一个表达式都是独立进行解析的，但是它们是有关联的。比如`1+2+3+4`和`1+2+3-4`之间，只是最后一个操作符不同，前面的值`1+2+3`即`6`可以共用。所以回溯过程中，记录当前表达式的同时计算好当前值。

因为操作符只包括：

- `+`
- `-`
- `*`

这3个。如果只有加减，则可以从左到右计算。乘法需要思考一下，其实也很简单，我们只要维护上一个操作数`prev`即可。比如`1-2*3`：

1. 1 - 2 = -1，prev = -2
1. -1*3，发现是乘号，需要“回退”：
    1. -1 - (-2) = 1，回到了上一次的值
    1. (-2) * 3 = -6，这是新的合法操作数
    1. 1 + (-6) = -5，这是结果
