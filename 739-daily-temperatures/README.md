# 739. 每日温度

## 题意

给定一个表示每天温度的数组，返回一个新数组，表示第i天要经过多少天才能升温。

## 思路

对于第i个元素，要找i之后的第一个比arr[i]大的元素。

### 暴力法

对于每个元素，都往后进行线性查找，找到第一个更大的就停止。需要花费O(N^2)时间。

### 单调栈法

可以看成是在队列中，求每个人向右能看到的第一个人。分为两种：

- 逆序遍历
  - 算法：对于某个元素Ai，首先对栈不断进行出栈、直到找到比它更大的元素Aj（这个过程中比Ai小的元素都被舍弃），更新Ri后、将Ai入栈。
  - 意义：对于每个新元素Ai，寻找比它更大的元素Aj，更新i的答案为Aj。所以循环1次，就更新1次。
- 顺序遍历
  - 算法：对于某个元素Aj，如果栈顶元素Ai比Aj小则出栈、同时更新i的答案为Aj、直到栈为空或栈顶元素比Aj大，然后将Aj入栈。
  - 意义：对于每个新元素Aj，寻找比它更小的所有元素，更新这些元素的答案为Aj。所以有的循环中没有更新、有的循环中更新多次。

无论是哪一种，stack中从栈底到栈顶是单调递减的，这种单调性不是方法（有意去维持）、而是结果。

时间复杂度总体为O(N)。（@todo 待亲自验证）

## 反思总结

【单调栈】解决【Next Greater问题】的模板题。

## 参考

- [labuladong：单调栈 Monotonic Stack 的使用](https://mp.weixin.qq.com/s?__biz=MzU0MDg5OTYyOQ==&mid=2247483803&idx=1&sn=d8c5fac3a15dcac0833445cb934e1a46&chksm=fb3361d9cc44e8cff919df33cf9f1517ce9ad746452f86dd93f282f4964e93ac1eb3abb10cde&scene=21#wechat_redirect)
