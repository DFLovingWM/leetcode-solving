# 222. 完全二叉树的节点个数

## 题意

给定一个完全二叉树，求结点数。

## 思路

## 暴力法

遍历整个二叉树，使用DFS/BFS。但没有利用完全二叉树的条件。

- 时间：`O(N)`
- 空间：`O(logN)`

## 二分法

在完全二叉树中对于一个结点而言，左子树或右子树至少有一个是满二叉树：

- 如果左子树是满二叉树，则累积左子树结点数（`1 << leftDepth`），递归右子结点
- 如果右子树是满二叉树，则累积右子树结点数（`1 << rightDepth`），递归左子结点

问题在于：如何快速判断左/右子树是否满二叉树？方法是对于一个结点，不断沿着左子结点走到底，可以得到子树深度。假设左右子树深度分别为`L``R`：如果`L == R`，说明左子树肯定是满二叉树，右子树可能不是满二叉树；如果`L > R`，说明右子树肯定是满二叉树，左子树不一定。

- 时间：`O(logN * logN)`。因为递归过程属于二分即`O(logN)`，而每一次递归中需要花费`O(logN)`求深度。
- 空间：`O(logN * logN)`
