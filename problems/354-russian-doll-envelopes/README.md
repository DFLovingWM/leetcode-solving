# 354. 俄罗斯套娃信封问题

## 思路

> 1、求LIS

套最多的信封，相当于求【最长上升子序列】，但在这里序列是不确定的。有两种思路：

- 思路1：将信封按照从小到大排序（width、height都小的在前面，都大的在后面），然后进行动态规划。
  - 时间：O(N^2)
- 思路2：将信封按照width升序、height降序排序，然后对所有height组成的新数组进行`Patient Sort`。这里width升序，是为了将二维降到一维（只需要看height这个维度）：
  - 算法思路
    - 当B的width大于A，如果B的height也大于A，则B可以包含A。
    - 当B的width等于A时，无论height如何，都无法串联A、B。所以当width相等时将height降序排序，就是为了解决这种情况，height降序的后果就是B无法包含A，与该情况一致。
  - 时间：O(NlogN)

> 2、拓扑排序

信封即节点，A套B表示A到B的权重为1的有向边，所以这是一个DAG，并且求的是最长路径。

可以使用拓扑排序。时间为O(N^2)，具体比DP更耗时一点。
