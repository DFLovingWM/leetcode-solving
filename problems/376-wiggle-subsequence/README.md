# 376. 摆动序列

## 题意

给定一个数组，求摆动子序列的最大长度。

## 思路

动态规划。这里有两种子思路：

思路一：

- 状态表示：`dp[i][0/1]`表示下降/上升到`nums[i]`的子序列的长度
- 状态转移：`dp[i][0] = max(dp[j][1] + 1)`，其中`0 <= j < i`，因为需要遍历求最大值，所以整体时间为`O(N^2)`
- 时间复杂度：`O(N^2)`

思路二：

- 状态表示：`dp[i][0/1]`表示前`i`个数字中、最终为下降/上升的子序列的【最大】长度（注意：在这种定义中，子序列不一定以`nums[i]`结尾）
- 状态转移：本质上对于`dp[i]`，只需要依赖`dp[i-1]`。比起前一个数字：
  - 上升则长度加1即`dp[i][1] = dp[i-1][0] + 1`，否则沿用前一个即`dp[i][1] = dp[i-1][1]`
  - 下降则长度加1即`dp[i][0] = dp[i-1][1] + 1`，否则沿用前一个即`dp[i][0] = dp[i-1][0]`
- 时间复杂度：`O(N)`
