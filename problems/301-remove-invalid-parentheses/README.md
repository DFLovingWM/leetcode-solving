# 301. 删除无效的括号

## 思路

一开始想用stack的，但是看到要求出所有可能的字符串，只能用回溯了。

盲目的回溯：要么从零开始增加字符、要么从`S`开始删除字符，然后对于每个子串，都判断一下是否合法。这样的时间复杂为`O(N * 2^N)`，会超时。

所以我们需要有策略的回溯：

- 回溯/DFS：从空串开始增加字符串，整个过程记录左右括号的数量、并始终保持左括号多于等于右括号（表示“可能合法”）。最后取最长的那部分结果、并去重。优化之处在于保持“可能合法”的状态，这就去掉了很多“绝对不合法”的子问题分支。
- 分支限界/BFS：从`S`开始每次删除1个括号，如果某一层产生了结果，那么就能提前退出搜索过程，这就是一种优化。
