# 678. 有效的括号字符串

## 思路

### 动态规划

对比基础版本(20题)，发现只是多了一个`*`。因为这个`*`可以变成：

- '('
- ')'
- ''

对应有3种策略，那么可以用动态规划来解决。

Top-down思路：设`helper(i, delta)`表示当前在第`i`个字符上、目前有`delta`个左括号（左括号+1、右括号-1）。则对于字符`(``)`都只有1种选择，而对于`*`则有3种选择，只要任意一条路成功，整体就成功。

### 贪心

基础版本的20题，可以用贪心法来做：用一个变量`delta`维护当前左括号的数量，左括号+1、右括号-1：

- 如果任意时刻有`delta < 0`说明右括号比左括号多，直接失败
- 如果最终有`delta == 0`说明平衡，才成功。

这里由于`*`可以变成3种字符，如果用贪心法也是可以的：维护当前左括号的数量范围`[L, R]`，遇到`(`则同时加1、遇到`)`则同时减1、遇到`*`则扩展范围(`--L, ++R`)，同理：

- 如果任意时刻有`R < 0`，则失败
- 如果最后有`L <= 0 <= R`，才成功

因为加1、减1的过程会保证`[L, R]`是连续整数区间，所以我们只需要维护区间的左右边界，而不需要维护该区间中的所有数字。
