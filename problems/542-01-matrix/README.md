# 542. 01 矩阵

## 题意

给定由0/1组成的矩阵，求每个数字到最近的0的距离（返回一个矩阵）。

## 思路

数字只有0/1。对于`0`而言，最近的0就是自身，所以距离为0；所以要求的其实是所有`1`到最近的0的距离。

矩阵中的0有很多个，要求“最近”的0，最直观的思路就是：每次从一个`1`出发一圈圈扩展（BFS），遇到的第一个0就是所谓“最近的”。这就是暴力思路，然而矩阵中的每个元素（位置）是一个结点（状态），对于这`MN`个结点，每个进行一次`O(MN)`的BFS，时间复杂度就到了`O(N^2 * M^2)`，肯定会TLE。

暴力思路的缺点往往是做了重复性的工作。举个例子，比如矩阵：

```
0 1 1
1 1 1
1 1 1
```

按照暴力思路，从每个`1`开始BFS，内圈的`1`距离都是1；而外圈的`1`BFS了一层后，也到了内圈，于是跟前面又做了一样的工作。

优化思路往往是将重复性工作提取出来作为预处理，然而这道题不是，它的优化思路基于“逆向思维”：不再从`1`出发，而是从所有的`0`出发（而且是同时出发）进行BFS，就像评论中说的“填海造陆”。`0`扩展到的每一层`1`，对于这些`1`来说，都找到了最近的`0`，距离就是BFS的层数。

本题与[1162. 地图分析](https://leetcode-cn.com/problems/as-far-from-land-as-possible/)是一样的思路。
