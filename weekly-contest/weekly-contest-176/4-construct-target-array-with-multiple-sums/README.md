# 多次求和构造目标数组

## 思路

记全1数组为`initial`，目标为`target`。

正向推导（暴力）：如果从`initial`出发，每一次可以有`N`中选择，那么暴力遍历的状态空间大小为`NV`，一看就很不实际。

逆向推导：由于数组中所有值一开始是正数、整个变化过程中也是正数，所以`sum`是递增的、并且比所有元素都大，所以如果从`target`开始逆向推导，可以唯一确定：本轮的最大值`currMax`就是上一轮的和`prevSum`，进而算出上一轮的最大值为`prevMax = prevSum - (currSum - currMax)`。每次的选值都是唯一确定的，只要判断最后是否能推导出`initial`即可。

具体编码中，因为每次都要操作最大值，所以要使用优先级队列构造最大堆。

## 拓展思考

LC测试数据还不算太强，所以以上思路能够AC。如果值之间相差很大，则消减的幅度`currSum - currMax`会很小，那么整个过程的推导会很慢，比如例子`[1, 1e9]`。所以还需要像一个办法解决这种case。
