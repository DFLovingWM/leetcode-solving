# 最后 K 个数的乘积

## 思路

求子数组的乘积，用前缀积。但是有一个特殊数字`0`：一旦遇到0，那么之后的积就会一直为0，所以需要特殊处理。

举个例子：`[1,2,0,4,5]`。先不考虑前缀积，只看数组本身：如果`k=2`，那么积为20；如果`k=3`，那么由于有0，所以积为0；而当`k > 3`时，因为总要跨越那个0，所以无论前面是什么数字，最终结果都为0。即如果存在0，我们只关注最后一个0的位置`i`，所以只需要对`i`右边的数组求前缀积。

## 扩展

如果加大一点难度，求的不是“最后”k个数字（后缀）的积，而是从某个位置开始的k个数字（任意区间）的积呢？

那么根据上面的思路，我们需要关注所有的0，可以用数组记录所有`0`的下标（这是一个升序数组）。然后对于`[i, i + k)`这个区间，可以使用2次二分查找来确定区间内是否存在0：如果存在，则结果为0；否则结果用前缀积相除求出。
