# 可被3整除的最大和

## 思路

### 数学/分类讨论

将所有数字按照对3取余，划分为3个数组待用：

- `m0`：余数为0(整除)
- `m1`：余数为1
- `m2`：余数为2

先求出总和`sum`作为初始的最大和。然后分类讨论，即如果：

- `sum % 3 === 0`，则`sum`就是最大和
- `sum % 3 === 1`，则需要删去1个`m1`、或2个`m2`
- `sum % 3 === 2`，则需要删去2个`m1`、或1个`m2`

对于后两种需要删除的情况，肯定是删除最小的数字，所以一开始需要对数组进行升序排序，这样最后找的时候直接找最小值就行了。

### BFS推导/动态规划

`dp[i]`表示被3除后余数为`i`的最大和。我们的做法是迭代`n`次，然后取最终的`dp[0]`（余数为0，即被3整除的最大和）。

关于状态转移，首先要明确：

- Top-down：如果这一个余数是`curr`，那么加上`num`后的下一个余数为`next = (curr + num) % 3`
- Bottom-up：如果这一个余数为`curr`，那么上一个余数为`prev = (curr - num % 3 + 3) % 3`

于是状态转移为：`dp[curr] = max(dp[curr], dp[prev] + num)`

## 相似题目

- [1220. 统计元音字母序列的数目](https://leetcode-cn.com/problems/count-vowels-permutation/)

## 反思总结

好题。不知道如何命名这一类题目，姑且叫做“BFS推导题”，它基于动态规划。
