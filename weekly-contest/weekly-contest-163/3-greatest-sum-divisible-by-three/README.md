# 可被三整除的最大和

## 思路

### 贪心

要求最大和，那么我的思路是：先把所有数字加起来得到和`sum`，再根据`sum % 3`分类讨论，减去某些数字使得`sum`能被3整除。如果余数为：

- 0：`sum`就是答案，不需要减小
- 1：需要删去1个`m1`、或2个`m2`，取更小者（减去更小的数字，得到更大的和）
- 2：同理，需要删去2个`m1`、或1个`m2`

因为要保证`m1`、`m2`中能取到最小的数字，可以对它们进行排序。

### BFS推导/动态规划

`dp[i]`表示被3除后余数为`i`的最大和。我们的做法是迭代`n`次，然后取最终的`dp[0]`（余数为0，即被3整除的最大和）。

关于状态转移，首先要明确：

- Top-down：如果这一个余数是`curr`，那么加上`num`后的下一个余数为`next = (curr + num) % 3`
- Bottom-up：如果这一个余数为`curr`，那么上一个余数为`prev = (curr - num % 3 + 3) % 3`

于是状态转移为：`dp[curr] = max(dp[curr], dp[prev] + num)`

## 相似题目

- [1220. 统计元音字母序列的数目](https://leetcode-cn.com/problems/count-vowels-permutation/)

## 反思总结

好题。不知道如何命名这一类题目，姑且叫做“BFS推导题”，它基于动态规划。
