# 1066. 校园自行车分配 II

## 思路

分配最优解，就是动态规划问题。解决方案：动态规划 + 位压缩。

基于回溯思想：对于每个工人，尝试将所有“当前可用”的单车都分配给他，然后取最小代价。

状态函数`f(wi, bikeSet)`表示当前给第`wi`个工人分配、并且单车分配情况为`bikeSet`，最终能获取的最小代价。其中为了表示当前哪些单车可用、哪些不可用，可以使用位压缩技巧，即使用一个整数`bikeSet`的二进制形式：`0`表示某单车可用，`1`表示某单车已被分配，因为`bikes.length <= 10`，所以最多需要10个bit就可以存储所有单车的状态。

状态转移：`f(wi, bikeSet) => min(manhattan(wi, bi) + f(wi + 1, nextBikeSet))`

## 反思总结

[1057. 校园自行车分配](https://leetcode-cn.com/problems/campus-bikes/)与该题的区别：前者基于“贪心”；而后者不能使用贪心，因为局部最优不能带来全局最优，所以要用动态规划，求出所有的可能性，最终才知道哪个是最小代价方案。
