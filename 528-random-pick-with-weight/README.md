# 528. 按权重随机选择

## 思路

将N个权重转换为数轴上N个连续的线段，权重大小就是线段长度。如果从上方扔一片叶子，叶子落到的线段所属的数字就是我们要提供的“随机数”。

比如`[1, 3, 10, 5]`，那么我们会构建4个线段，它们在数轴上的终点是`[1, 4, 14, 19]`，实际上就是前缀和的应用。

用`random`函数来模拟叶子。如果叶子落到`8`这个点，所在线段是第3个线段即`4～14`，因为前缀和数组是（严格）递增数组，所以这里实际上可以用二分查找，比线性查找要快很多。

- 时间
  - 构造函数：O(N)产生前缀和
  - 产生随机数：O(logN)，二分查找
- 空间：O(N)，维护前缀和数组

## 反思总结

考点有：

- 模型设计（线段）
- 前缀和
- 二分查找
